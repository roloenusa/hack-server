<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Rock+Salt&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:500&display=swap" rel="stylesheet">

    <!-- CSS Libraries -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <meta name="theme-color" content="#000000" />
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="/public/manifest.json" />
    <title>Player One</title>

    <style>
      html, body {
          color: #f9f9f9;
          height: 100%;
          width: 100%;
          background-color: #262835;
          font-family: 'Roboto', sans-serif;
      }

      h1, h2, h3{
          padding-left: 20px;
          padding-bottom: 20px;
      }

      h1 {
          color: #fa9b64;
      }

      h2 {
          color: #fad0b5;
      }

      h3 {
          color: #cdf7c6;
          padding-top: 20px;
          border-left: #cdf7c6 dotted 2px;
          border-radius: 10px;
      }

      .content {
          padding: 30px;
          border-color: #1e283b;
          border-style: solid;
          border-width: 2px;
          background-color: #2d333f;
      }

      .char-creation {
        background-color: #3c4059;
      }

      .app-root {
        height: 100%;
      }

      /*!
        * Load Awesome v1.1.0 (http://github.danielcardoso.net/load-awesome/)
        * Copyright 2015 Daniel Cardoso <@DanielCardoso>
        * Licensed under MIT
        */
        .la-fire{
          margin: 0 auto;
        }

        .la-fire,
        .la-fire > div {
            position: relative;
            -webkit-box-sizing: border-box;
              -moz-box-sizing: border-box;
                    box-sizing: border-box;
        }
        .la-fire {
            display: block;
            font-size: 0;
            color: #FA9B64;
        }
        .la-fire.la-dark {
            color: #333;
        }
        .la-fire > div {
            display: inline-block;
            float: none;
            background-color: currentColor;
            border: 0 solid currentColor;
        }
        .la-fire {
            width: 32px;
            height: 32px;
        }
        .la-fire > div {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 12px;
            height: 12px;
            border-radius: 0;
            border-radius: 2px;
            -webkit-transform: translateY(0) translateX(-50%) rotate(45deg) scale(0);
              -moz-transform: translateY(0) translateX(-50%) rotate(45deg) scale(0);
                -ms-transform: translateY(0) translateX(-50%) rotate(45deg) scale(0);
                -o-transform: translateY(0) translateX(-50%) rotate(45deg) scale(0);
                    transform: translateY(0) translateX(-50%) rotate(45deg) scale(0);
            -webkit-animation: fire-diamonds 1.5s infinite linear;
              -moz-animation: fire-diamonds 1.5s infinite linear;
                -o-animation: fire-diamonds 1.5s infinite linear;
                    animation: fire-diamonds 1.5s infinite linear;
        }
        .la-fire > div:nth-child(1) {
            -webkit-animation-delay: -.85s;
              -moz-animation-delay: -.85s;
                -o-animation-delay: -.85s;
                    animation-delay: -.85s;
        }
        .la-fire > div:nth-child(2) {
            -webkit-animation-delay: -1.85s;
              -moz-animation-delay: -1.85s;
                -o-animation-delay: -1.85s;
                    animation-delay: -1.85s;
        }
        .la-fire > div:nth-child(3) {
            -webkit-animation-delay: -2.85s;
              -moz-animation-delay: -2.85s;
                -o-animation-delay: -2.85s;
                    animation-delay: -2.85s;
        }
        .la-fire.la-sm {
            width: 16px;
            height: 16px;
        }
        .la-fire.la-sm > div {
            width: 6px;
            height: 6px;
        }
        .la-fire.la-2x {
            width: 64px;
            height: 64px;
        }
        .la-fire.la-2x > div {
            width: 24px;
            height: 24px;
        }
        .la-fire.la-3x {
            width: 96px;
            height: 96px;
        }
        .la-fire.la-3x > div {
            width: 36px;
            height: 36px;
        }
        /*
        * Animation
        */
        @-webkit-keyframes fire-diamonds {
            0% {
                -webkit-transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
                        transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
            }
            50% {
                -webkit-transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
                        transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
            }
            100% {
                -webkit-transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
                        transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
            }
        }
        @-moz-keyframes fire-diamonds {
            0% {
                -moz-transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
                    transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
            }
            50% {
                -moz-transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
                    transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
            }
            100% {
                -moz-transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
                    transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
            }
        }
        @-o-keyframes fire-diamonds {
            0% {
                -o-transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
                  transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
            }
            50% {
                -o-transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
                  transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
            }
            100% {
                -o-transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
                  transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
            }
        }
        @keyframes fire-diamonds {
            0% {
                -webkit-transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
                  -moz-transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
                    -o-transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
                        transform: translateY(75%) translateX(-50%) rotate(45deg) scale(0);
            }
            50% {
                -webkit-transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
                  -moz-transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
                    -o-transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
                        transform: translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);
            }
            100% {
                -webkit-transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
                  -moz-transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
                    -o-transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
                        transform: translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);
            }
        }

        #block {
          position: absolute;
          background-color: rgb(235, 84, 20);
          border-radius: 45px;
          left: 50px;
          width: 90px;
          height: 90px;
          margin: 5px;
        }

        #block2 {
          position: absolute;
          background-color: rgb(235, 84, 20);
          border-radius: 45px;
          left: 520px;
          top: 300px;
          width: 90px;
          height: 90px;
          margin: 5px;
        }

        .bullet {
          position: absolute;
          background-image: url("http://localhost:3001/img/bullet.png");
          border-radius: 45px;
          width: 15px;
          height: 15px;
        }

        .bleed {
          position: absolute;
          background-image: url("http://localhost:3001/img/bleed.png");
          border-radius: 45px;
          width: 25px;
          height: 25px;
        }

        .regen {
          position: absolute;
          background-image: url("http://localhost:3001/img/regen.png");
          border-radius: 45px;
          width: 25px;
          height: 25px;
        }

        .hit {
          position: absolute;
          background-image: url("http://localhost:3001/img/hit.png");
          background-size: contain;
          transform: translate(-50%, -50%);
          border-radius: 45px;
          width: 15px;
          height: 15px;
        }
        .crit {
          background-image: url("http://localhost:3001/img/crit.png") !important;
          position: absolute;
          background-size: contain;
          transform: translate(-50%, -50%);
          border-radius: 45px;
          width: 100px;
          height: 100px;
        }
    </style>

  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <!-- <div id="block"></div>
    <div id="block2"></div> -->
    <div id="root" class="app-root"></div>
    <script>
      function shootBullet(from, to, isCrit) {
        var from = getCenter($('#'+from));
        var to = getCenter($('#'+to));
        var div = $('<div class="bullet" />').appendTo('body');
        //Set the start  top and left
        div.css('top', from.y);
        div.css('left', from.x);
        div.css('display', 'block');
        div.animate({ "left": to.x, "top": to.y}, "slow", 'swing', () => {
          div.remove();

          var hit = $('<div class="hit" />').appendTo('body');
          hit.css('top', to.y);
          hit.css('left', to.x);
          hit.css('display', 'block');
          hit.animate({opacity: "hide", width: "250px", height: "250px"}, 600, "swing", () => {
            hit.remove();
          })

          if (isCrit) {
            var crit = $('<div class="crit" />').appendTo('body');
            crit.css('top', to.y + 5);
            crit.css('left', to.x);
            crit.css('display', 'block');
            crit.animate({"top": "-=100px"}, 600, "swing", () => {
              crit.remove();
            })
          }
        })
      }

      function showBleed(to) {
        var to = getCenter($('#'+to));
        var div = $('<div class="bleed" />').appendTo('body');
        //Set the start  top and left
        div.css('top', to.y - 75);
        div.css('left', to.x + 50);
        div.css('display', 'block');
        div.animate({"top": "+=75px", opacity: "hide"}, "slow", 'swing', () => {
          div.remove();
        })
      }

      function showRegen(to) {
        var to = getCenter($('#'+to));
        var div = $('<div class="regen" />').appendTo('body');
        //Set the start  top and left
        div.css('top', to.y + 75);
        div.css('left', to.x - 50);
        div.css('display', 'block');
        div.animate({"top": "-=75px", opacity: "hide"}, "slow", 'swing', () => {
          div.remove();
        })
      }

      function getCenter(targetNode){
        targetNode = targetNode[0];
        let centerX = targetNode.offsetLeft + targetNode.offsetWidth / 2;
        let centerY = targetNode.offsetTop + targetNode.offsetHeight / 2;
        return {x: centerX, y: centerY};
      }
    </script>
  </body>
</html>
